<!DOCTYPE html>

<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯ºé™¢Ã—ãƒ†ãƒƒã‚¯ æ¼«æ‰&ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ³ãƒˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Hiragino Kaku Gothic Pro', 'Meiryo', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
    }
    
    .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        overflow: hidden;
    }
    
    .header {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 40px 30px;
        text-align: center;
    }
    
    .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    
    .header p {
        font-size: 1.1em;
        opacity: 0.95;
    }
    
    .controls {
        background: #f8f9fa;
        padding: 25px 30px;
        border-bottom: 2px solid #e9ecef;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        gap: 15px;
    }
    
    .button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 15px 40px;
        border-radius: 30px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }
    
    .button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }
    
    .button:active {
        transform: translateY(0);
    }
    
    .button.stop {
        background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%);
    }
    
    .content {
        padding: 30px;
        max-height: 600px;
        overflow-y: auto;
    }
    
    .dialogue {
        margin: 20px 0;
        padding: 20px;
        border-radius: 15px;
        animation: fadeIn 0.6s;
        transition: all 0.3s;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateX(-20px); }
        to { opacity: 1; transform: translateX(0); }
    }
    
    .dialogue.active {
        transform: scale(1.05);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .dialogue.male {
        background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        margin-right: 40px;
    }
    
    .dialogue.female {
        background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%);
        margin-left: 40px;
    }
    
    .dialogue.stage {
        background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
        text-align: center;
        font-style: italic;
        margin: 30px 0;
    }
    
    .speaker {
        font-weight: bold;
        font-size: 0.9em;
        margin-bottom: 8px;
        opacity: 0.7;
    }
    
    .male .speaker {
        color: #1976d2;
    }
    
    .female .speaker {
        color: #c2185b;
    }
    
    .stage .speaker {
        color: #f57c00;
    }
    
    .text {
        font-size: 1.1em;
        line-height: 1.6;
    }
    
    .progress {
        height: 4px;
        background: #e9ecef;
        position: relative;
    }
    
    .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        width: 0%;
        transition: width 0.3s;
    }
    
    .info {
        background: #e3f2fd;
        padding: 20px;
        margin: 20px 0;
        border-radius: 10px;
        border-left: 4px solid #1976d2;
    }
    
    .info h3 {
        color: #1976d2;
        margin-bottom: 10px;
    }
    
    @media (max-width: 768px) {
        .header h1 {
            font-size: 1.8em;
        }
        
        .dialogue.male {
            margin-right: 20px;
        }
        
        .dialogue.female {
            margin-left: 20px;
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ­ å¯ºé™¢Ã—ãƒ†ãƒƒã‚¯ æ¼«æ‰&ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ³ãƒˆ</h1>
            <p>40ä»£ç”·æ€§ãƒœã‚± Ã— 30ä»£å¥³æ€§ãƒ„ãƒƒã‚³ãƒŸ</p>
        </div>

```
    <div class="progress">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    
    <div class="controls">
        <button class="button" id="playBtn" onclick="playManzai()">â–¶ å†ç”Ÿé–‹å§‹</button>
        <button class="button stop" id="stopBtn" onclick="stopManzai()" style="display:none">â¹ åœæ­¢</button>
    </div>
    
    <div class="content" id="content">
        <div class="info">
            <h3>ğŸ“ ãƒã‚¿ã«ã¤ã„ã¦</h3>
            <p>å¾Œç¶™è€…ä¸è¶³ã®ãŠå¯ºã‚’M&Aã§æ‰¿ç¶™ã—ã€ãƒ†ãƒƒã‚¯Ã—BPOã§é‹å–¶åŠ¹ç‡åŒ–ã™ã‚‹äº‹æ¥­ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ãƒã‚¿ã«ã—ãŸæ¼«æ‰ã§ã™ã€‚</p>
            <p><strong>æ‰€è¦æ™‚é–“:</strong> ç´„3åˆ†</p>
        </div>
    </div>
</div>

<script>
    const script = [
        // æ¼«æ‰ãƒ‘ãƒ¼ãƒˆï¼ˆå°å…¥ï¼‰
        { speaker: "male", text: "ã©ã†ã‚‚ãƒ¼ï¼" },
        { speaker: "female", text: "ã©ã†ã‚‚ãƒ¼ï¼" },
        { speaker: "male", text: "æœ€è¿‘ã­ã€ã™ã”ã„ãƒ“ã‚¸ãƒã‚¹æ€ã„ã¤ã„ãŸã‚“ã§ã™ã‚ˆ" },
        { speaker: "female", text: "ã»ã†ã€ã©ã‚“ãªãƒ“ã‚¸ãƒã‚¹ï¼Ÿ" },
        { speaker: "male", text: "ãŠå¯ºã®ã‚¨ãƒ ã‚¢ãƒ³ãƒ‰ã‚¨ãƒ¼ã§ã™ï¼" },
        { speaker: "female", text: "ãŠå¯ºã®ã‚¨ãƒ ã‚¢ãƒ³ãƒ‰ã‚¨ãƒ¼ï¼Ÿä½•ãã‚Œ" },
        { speaker: "male", text: "ã‚¨ãƒ ã‚¢ãƒ³ãƒ‰ã‚¨ãƒ¼ã£ã¦ã„ã†ã®ã¯ã€ä¼æ¥­ã®åˆä½µã¨è²·åã®ã“ã¨ã§ã™ã­ã€‚è‹±èªã§ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚ºã‚¢ãƒ³ãƒ‰ã‚¢ã‚¯ã‚¤ã‚¸ã‚·ãƒ§ãƒ³ã‚ºã£ã¦ã„ã†ã‚“ã§ã™ã‘ã©" },
        { speaker: "female", text: "ã‚ã‚ã€ä¼šç¤¾ã‚’è²·ã†ã‚„ã¤ã­ã€‚ã§ã€ãŠå¯ºã‚’è²·ã†ã®ï¼Ÿ" },
        { speaker: "male", text: "ã„ã‚„ãƒ¼ã€å¾Œç¶™è€…ä¸è¶³ã§å›°ã£ã¦ã‚‹ãŠå¯ºå¤šã„ã˜ã‚ƒãªã„ã§ã™ã‹ã€‚ã ã‹ã‚‰è²·åã—ã¦ã€ãƒ†ãƒƒã‚¯ã§åŠ¹ç‡åŒ–ã™ã‚‹ã‚“ã§ã™ã‚ˆ" },
        { speaker: "female", text: "ãƒ†ãƒƒã‚¯ã£ã¦ä½•ï¼Ÿ" },
        { speaker: "male", text: "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã®ã“ã¨ã§ã™ã€‚è¦ã¯ITã¨ã‹ã€ã‚¢ã‚¤ãƒ†ã‚£ãƒ¼ã£ã¦ã„ã†ã®ã¯æƒ…å ±æŠ€è¡“ã§ã™ã­" },
        { speaker: "female", text: "èª¬æ˜é•·ã„ã‚ï¼ã§ã€ãŠå¯ºã£ã¦è²·åã§ãã‚‹ã®ï¼Ÿ" },
        { speaker: "male", text: "ã¾ã‚ã€å³å¯†ã«ã¯å®—æ•™æ³•äººã ã‹ã‚‰æ ªå¼ã¨ã‹ãªã„ã‚“ã§ã™ã‘ã©ã­ã€‚é‹å–¶å—è¨—ã¨ã‹äº‹æ¥­ä¼šç¤¾ã®è²·åã¨ã‹ã€ã‚„ã‚Šæ–¹ã¯ã„ã‚ã„ã‚ã‚ã‚‹ã‚“ã§ã™ã‚ˆ" },
        { speaker: "female", text: "ã‚„ã‚„ã“ã—ã„ã‚ï¼ã§ã€å…·ä½“çš„ã«ä½•ã™ã‚‹ã®ï¼Ÿ" },
        { speaker: "male", text: "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è­·æ‘©ã§ã™ï¼" },
        { speaker: "female", text: "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è­·æ‘©ï¼ï¼Ÿ" },
        
        // ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ³ãƒˆå°å…¥
        { speaker: "stage", text: "ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ³ãƒˆã€Œã‚ªãƒ³ãƒ©ã‚¤ãƒ³è­·æ‘©ã€å›½å¢ƒã‚’è¶Šãˆã‚‹ã€ã€‘" },
        
        // ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ³ãƒˆæœ¬ç·¨
        { speaker: "male", text: "ãˆãƒ¼ã€ãŸã ã„ã¾ã‚ˆã‚Šã‚ªãƒ³ãƒ©ã‚¤ãƒ³è­·æ‘©ã®ä¿®æ³•ã«å…¥ã‚Šã¾ã™â€¦ã‚´ã‚©ã‚©ã‚©ãƒ¼â€¦" },
        { speaker: "female", text: "ï¼ˆæµ·å¤–ã®è¦³å…‰å®¢ãƒˆãƒ å½¹ã§ç‰‡è¨€ã®æ—¥æœ¬èªï¼‰ãŠãŠãƒ¼ï¼ã™ã”ã„ï¼ãã‚Œã„ï¼ç«ï¼" },
        { speaker: "male", text: "ï¼ˆèª­çµŒã—ãªãŒã‚‰ï¼‰å—ç„¡ä¸‰â€¦ã‚´ã‚©ã‚©ã‚©ã‚©ãƒ¼â€¦" },
        { speaker: "female", text: "ã¾ã£ã¦ã€ã¾ã£ã¦ï¼ãªã‚“ã§ç«ã€å¤§ãããªã‚‹ï¼ï¼Ÿã“ã‚ã„ï¼" },
        { speaker: "male", text: "ï¼ˆã•ã‚‰ã«èª­çµŒï¼‰ã‚´ã‚©ã‚©ã‚©ã‚©ãƒ¼â€¦" },
        { speaker: "female", text: "ã‚„ã°ã„ï¼ãƒ†ãƒ­ï¼ï¼Ÿã‚‚ã—ã‚‚ã—ã€è­¦å¯Ÿï¼ï¼Ÿç«äº‹ï¼ç”·ã®äººã€å‘ªæ–‡å”±ãˆã¦ã‚‹ï¼" },
        { speaker: "male", text: "ï¼ˆå¤–ã§ã‚µã‚¤ãƒ¬ãƒ³éŸ³ï¼‰ã‚¦ãƒ¼ãƒ¼ãƒ¼ï¼ï¼ˆèª­çµŒæ­¢ã‚ã¦ï¼‰ãˆã€ãªã‚“ã‹å¤–ã™ã”ã„é¨’ãŒã—ã„ã§ã™ã­" },
        { speaker: "female", text: "ï¼ˆé€šå¸¸ã®å£°ã«æˆ»ã£ã¦ï¼‰ã‚ã€è­¦å¯Ÿæ¥ã¡ã‚ƒã£ãŸ" },
        { speaker: "male", text: "ãªã‚“ã§ï¼ï¼Ÿã“ã‚Œå®—æ•™è¡Œäº‹ã§ã™ã‚ˆï¼æ¯æœˆã‚„ã£ã¦ã¾ã™ã‚ˆï¼" },
        { speaker: "female", text: "çŸ¥ã‚‰ã‚“ãŒãªï¼æµ·å¤–ã®äººã«ã¯èª¬æ˜ã›ãªåˆ†ã‹ã‚‰ã‚“ã‚„ã‚ï¼" },
        { speaker: "male", text: "ï¼ˆè­¦å¯Ÿã«å‘ã‹ã£ã¦ï¼‰ã™ã¿ã¾ã›ã‚“ï¼ã“ã‚Œè­·æ‘©ãªã‚“ã§ã™ï¼å®—æ•™è¡Œäº‹ãªã‚“ã§ã™ï¼" },
        { speaker: "stage", text: "ã€ã”ç¥ˆç¥·ã€ä¸­æ–­ã€‘" },
        
        // æ¼«æ‰ã«æˆ»ã‚‹
        { speaker: "female", text: "ã¡ã‚‡ã£ã¨å¾…ã£ã¦ã€‚ã“ã‚Œã€ãƒ“ã‚¸ãƒã‚¹ã¨ã—ã¦ãƒ€ãƒ¡ã˜ã‚ƒãªã„ï¼Ÿ" },
        { speaker: "male", text: "ãˆã€ãªã‚“ã§ã§ã™ã‹ï¼Ÿ" },
        { speaker: "female", text: "è­¦å¯Ÿæ¥ã¦ã€ã”ç¥ˆç¥·ä¸­æ–­ã—ã¦ã‚‹ã‚„ã‚“ï¼ãŠå®¢ã•ã‚“ã‹ã‚‰ã‚¯ãƒ¬ãƒ¼ãƒ æ¥ã‚‹ã§ï¼" },
        { speaker: "male", text: "ã¾ã‚ã€ç¢ºã‹ã«æµ·å¤–ã®äººã«ã¯èª¤è§£ã•ã‚Œã¾ã™ã‘ã©â€¦" },
        { speaker: "female", text: "èª¤è§£ã©ã“ã‚ã‹é€šå ±ã•ã‚Œã¨ã‚‹ã‚„ã‚“ï¼ã“ã‚Œçµ¶å¯¾ç‚ä¸Šã™ã‚‹ã§ï¼" },
        { speaker: "male", text: "ç‚ä¸Šã—ã¦ã‚‚ãˆãˆã­ã‚“" },
        { speaker: "female", text: "ãªã‚“ã§ã‚„ã­ã‚“ï¼" },
        { speaker: "male", text: "ã ã£ã¦ã€ã”ç¥ˆç¥·ã«ç«ã¯ã„ã‚‹ã‚„ã‚" },
        { speaker: "female", text: "ãã†ã„ã†æ„å‘³ã®ç‚ä¸Šã¡ã‚ƒã†ã‚ï¼ãƒãƒƒãƒˆã§å©ã‹ã‚Œã‚‹ã£ã¦ã“ã¨ã‚„ï¼" },
        { speaker: "male", text: "ã‚ã‚ã€ãã£ã¡ã®ç‚ä¸Š" },
        { speaker: "female", text: "ã‚‚ã†ãˆãˆã‚ï¼" },
        { speaker: "male", text: "ã„ã‚„ã„ã‚„ã€ã¡ã‚ƒã‚“ã¨å¯¾ç­–ã—ã¦ã¾ã™ã‚ˆã€‚äº‹å‰ã«èª¬æ˜æ–‡é€ã£ã¦ã€ã€Œã“ã‚Œã¯å®—æ•™å„€å¼ã§ã™ã€‚ç«ã‚’ä½¿ã„ã¾ã™ã€ã£ã¦" },
        { speaker: "female", text: "æœ€åˆã‹ã‚‰è¨€ã„ãªã•ã„ã‚ˆï¼" },
        { speaker: "male", text: "ãã‚Œã«è¨¼æ˜æ›¸ã‚‚PDFã€ã¤ã¾ã‚Šãƒ”ãƒ¼ãƒ‡ã‚£ãƒ¼ã‚¨ãƒ•ã€é›»å­æ–‡æ›¸ã§ç™ºè¡Œã—ã¾ã™ã—" },
        { speaker: "female", text: "ç•¥èªã®èª¬æ˜ã„ã‚‰ã‚“ã‚ï¼" },
        { speaker: "male", text: "ãŠå®ˆã‚Šã®æµ·å¤–ç™ºé€ã¨ã‹ã€ä»£ç†ç¥ˆç¥·ã¨ã‹ã€ã„ã‚ã„ã‚ã‚µãƒ¼ãƒ“ã‚¹ã‚ã‚‹ã‚“ã§ã™" },
        { speaker: "female", text: "ä»£ç†ç¥ˆç¥·ã£ã¦ä½•ï¼Ÿ" },
        { speaker: "male", text: "ãŠå®¢ã•ã‚“ã®é¡˜ã„äº‹ã‚’å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã£ã¦ã€ãŠå¯ºã§ç¥ˆç¥·ã—ã¦ã€ãŠæœ­ã‚’éƒµé€ã™ã‚‹ã‚“ã§ã™" },
        { speaker: "female", text: "ã¾ã‚ã€ãã‚Œãªã‚‰ãˆãˆã‹ã€‚ã§ã‚‚æœ¬å½“ã«åŠ¹æœã‚ã‚‹ã®ï¼Ÿ" },
        { speaker: "male", text: "ãã“ã¯æ–­è¨€ã—ãŸã‚‰ã‚¢ã‚«ãƒ³ã®ã§ã™ï¼ã”åˆ©ç›Šä¿è¨¼ã¨ã‹è¨€ã£ãŸã‚‰ã€ãã‚Œã“ãç‚ä¸Šã—ã¾ã™ã‹ã‚‰" },
        { speaker: "female", text: "ã•ã£ãè­·æ‘©ã§ç‚ä¸Šã—ã¦ãŸã‚„ã‚“" },
        { speaker: "male", text: "ã ã‹ã‚‰ã€ãã‚Œã¯ç«ã‚’ä½¿ã†ã‹ã‚‰â€¦" },
        { speaker: "female", text: "åˆ†ã‹ã£ã¨ã‚‹ã‚ï¼ã§ã€åƒ§ä¾¶ã•ã‚“ã®è² æ‹…ã¯ï¼Ÿ" },
        { speaker: "male", text: "ãã‚ŒãŒã€åƒ§ä¾¶ã•ã‚“ã¯ç¥ˆç¥·ã ã‘ã«é›†ä¸­ã—ã¦ã‚‚ã‚‰ã£ã¦ã€å—ä»˜ã¨ã‹æ±ºæ¸ˆã¨ã‹ç™ºé€ã¯å…¨éƒ¨ãƒ“ãƒ¼ãƒ”ãƒ¼ã‚ªãƒ¼ã§" },
        { speaker: "female", text: "ãƒ“ãƒ¼ãƒ”ãƒ¼ã‚ªãƒ¼ï¼Ÿ" },
        { speaker: "male", text: "ãƒ“ã‚¸ãƒã‚¹ãƒ»ãƒ—ãƒ­ã‚»ã‚¹ãƒ»ã‚¢ã‚¦ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ã€‚æ¥­å‹™ã®å¤–éƒ¨å§”è¨—ã§ã™ã­ã€‚è¦ã¯å°‚é–€ã®ä¼šç¤¾ã«ä»»ã›ã‚‹ã‚“ã§ã™" },
        { speaker: "female", text: "ã‚ã‚ã€ãªã‚‹ã»ã©ã€‚å½¹å‰²åˆ†æ‹…ã™ã‚‹ã‚ã‘ã­" },
        { speaker: "male", text: "ãã†ã§ã™ï¼æœ€çµ‚çš„ã«ã¯ã‚µãƒ¼ã‚¹åŒ–ã—ã¦" },
        { speaker: "female", text: "ã‚µãƒ¼ã‚¹ï¼Ÿ" },
        { speaker: "male", text: "ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ»ã‚¢ã‚ºãƒ»ã‚¢ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã€‚æœˆé¡èª²é‡‘ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã­ã€‚ã“ã‚Œã‚’ä»–ã®ãŠå¯ºã«ã‚‚æä¾›ã™ã‚‹ã‚“ã§ã™" },
        { speaker: "female", text: "èª¬æ˜ã°ã£ã‹ã‚Šã‚„ãªã€‚ã§ã€åå‰ã¯ï¼Ÿ" },
        { speaker: "male", text: "ã‚»ã‚¤ã‚¯ãƒ¬ãƒƒãƒ‰ãƒ»ã‚ªãƒ¼ã‚¨ã‚¹ã§ã™" },
        { speaker: "female", text: "æ—¥æœ¬èªã§è¨€ã„ãªã•ã„ï¼" },
        { speaker: "male", text: "ãˆãƒ¼ã¨ã€ç¥è–ãªåŸºæœ¬ã‚·ã‚¹ãƒ†ãƒ ï¼Ÿ" },
        { speaker: "female", text: "ãƒ€ã‚µã„ã‚ï¼ã‚‚ã†ãˆãˆã‚ï¼" },
        { speaker: "male", text: "ã¯ã„" },
        { speaker: "female", text: "ã¨ã„ã†ã‚ã‘ã§ã€ä»¥ä¸Šã§ã—ãŸï¼" },
        { speaker: "male", text: "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸãƒ¼ï¼" },
    ];

    let currentIndex = 0;
    let isPlaying = false;
    let speechSynth = window.speechSynthesis;
    
    const speakerNames = {
        male: "ç”·æ€§ï¼ˆ40ä»£ãƒ»ãƒœã‚±ï¼‰",
        female: "å¥³æ€§ï¼ˆ30ä»£ãƒ»ãƒ„ãƒƒã‚³ãƒŸï¼‰",
        stage: "ãƒˆæ›¸ã"
    };

    function updateProgress() {
        const progress = (currentIndex / script.length) * 100;
        document.getElementById('progressBar').style.width = progress + '%';
    }

    function displayDialogue(index) {
        const content = document.getElementById('content');
        const item = script[index];
        
        // ã™ã¹ã¦ã® active ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
        document.querySelectorAll('.dialogue').forEach(d => d.classList.remove('active'));
        
        // æ—¢å­˜ã®dialogueã‚’æ¢ã™
        let dialogue = document.getElementById(`dialogue-${index}`);
        
        if (!dialogue) {
            dialogue = document.createElement('div');
            dialogue.id = `dialogue-${index}`;
            dialogue.className = `dialogue ${item.speaker}`;
            dialogue.innerHTML = `
                <div class="speaker">${speakerNames[item.speaker]}</div>
                <div class="text">${item.text}</div>
            `;
            content.appendChild(dialogue);
        }
        
        dialogue.classList.add('active');
        dialogue.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function speak(text, speaker) {
        return new Promise((resolve) => {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ja-JP';
            
            // è©±è€…ã«ã‚ˆã£ã¦å£°ã‚’å¤‰ãˆã‚‹
            if (speaker === 'male') {
                utterance.pitch = 0.8;  // ä½ã‚
                utterance.rate = 1.1;   // å°‘ã—é€Ÿã‚
            } else if (speaker === 'female') {
                utterance.pitch = 1.3;  // é«˜ã‚
                utterance.rate = 1.2;   // é€Ÿã‚
            } else {
                utterance.pitch = 1.0;
                utterance.rate = 0.9;   // ã‚†ã£ãã‚Š
            }
            
            utterance.onend = () => {
                setTimeout(resolve, speaker === 'stage' ? 800 : 400);
            };
            
            utterance.onerror = () => {
                resolve();
            };
            
            speechSynth.speak(utterance);
        });
    }

    async function playManzai() {
        if (isPlaying) return;
        
        isPlaying = true;
        document.getElementById('playBtn').style.display = 'none';
        document.getElementById('stopBtn').style.display = 'inline-block';
        
        // æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™å ´åˆ
        if (currentIndex >= script.length) {
            currentIndex = 0;
            document.getElementById('content').innerHTML = `
                <div class="info">
                    <h3>ğŸ“ ãƒã‚¿ã«ã¤ã„ã¦</h3>
                    <p>å¾Œç¶™è€…ä¸è¶³ã®ãŠå¯ºã‚’M&Aã§æ‰¿ç¶™ã—ã€ãƒ†ãƒƒã‚¯Ã—BPOã§é‹å–¶åŠ¹ç‡åŒ–ã™ã‚‹äº‹æ¥­ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ãƒã‚¿ã«ã—ãŸæ¼«æ‰ã§ã™ã€‚</p>
                    <p><strong>æ‰€è¦æ™‚é–“:</strong> ç´„3åˆ†</p>
                </div>
            `;
        }
        
        while (currentIndex < script.length && isPlaying) {
            const item = script[currentIndex];
            displayDialogue(currentIndex);
            updateProgress();
            
            await speak(item.text, item.speaker);
            currentIndex++;
        }
        
        if (currentIndex >= script.length) {
            stopManzai();
        }
    }

    function stopManzai() {
        isPlaying = false;
        speechSynth.cancel();
        document.getElementById('playBtn').style.display = 'inline-block';
        document.getElementById('stopBtn').style.display = 'none';
        
        // ã™ã¹ã¦ã® active ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
        document.querySelectorAll('.dialogue').forEach(d => d.classList.remove('active'));
    }

    // ãƒšãƒ¼ã‚¸é›¢è„±æ™‚ã«éŸ³å£°ã‚’åœæ­¢
    window.addEventListener('beforeunload', () => {
        speechSynth.cancel();
    });
</script>
```

</body>
</html>